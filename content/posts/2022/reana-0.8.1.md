---
title: "REANA 0.8.1 is released"
date: 2022-02-11T09:00:00+01:00
tags:
  - release
  - client
  - cluster
---

We are glad to announce the release of REANA 0.8.1, a minor update
allowing users to set timeouts for their workflow jobs, allowing
administrations to configure the workflow CPU quota updates
periodically, and more!

<!--more-->

## What's new for the users?

### Support for setting job timeout limits

This feature is particularly useful when developing your workflow
analyses. There might be some cases that your workflow enters into an
undesired state of an infinite loop or similar, so the workflow remains
running for a long time and you are unable to know what is going on.
To solve this, job timeout limits have been introduced. You can set your
timeout values in seconds per workflow step in your specification,
meaning that the job will be forced to terminate if this time is
exceeded. This way you can make sure that your workflows will not get
stuck and check the logs once they are terminated.

Please [check the documentation](https://docs.reana.io/advanced-usage/compute-backends/kubernetes/#custom-job-timeouts) to know how to set these values in your
workflow specification for each of the workflow languages that REANA
supports.

### Revamped Cluster Health status page

In version 0.8.0, a new page with the summary of the cluster health
status was introduced. The displayed values were based on the **usage**
of the cluster resources, showing information about the cluster nodes,
workflows, jobs, and notebooks.

In this new version, the values are based on the resource
**availability** instead, making the charts better readable, and hence
easier to have an overall picture of the cluster health at a glance.

![cluster-health](/images/reana-0.8.1-cluster-health.png)

### Search your workspace files by name

Now it is possible to search for your workspace files from the user
interface. Inside the workspace tab of the workflow details page, there
is a new search bar, allowing you to find files easily.

![workspace-search](/images/reana-0.8.1-workspace-search.png)

### Support for HTML preview of your workspace files

In version 0.8.0, it was possible to preview plain text files and
images. From 0.8.1, you can also preview HTML files from your workspace,
without the need of downloading them locally.
This feature is particularly useful to visualise Snakemake reports, that
are generated by default once the workflow finishes successfully.

![snakemake-support-report](/images/snakemake-support-report.png)

## What's new for the administrators?

### Configure users' job timeout limits

The newly introduced job timeout limits feature forces workflows to
terminate when a certain amount of time is exceeded. This feature is
always enabled and, by default, it has a value of **7 days** (604800
seconds). This means that, if a workflow job keeps running for more than
7 days, it will be automatically terminated. This value can be
configured by administrators by setting the `kubernetes_jobs_timeout_limit`
[Helm value](https://github.com/reanahub/reana/blob/0.8.1/helm/reana/README.md).

Note that the users can also configure this value in their workflow
specification to override the default value, as [explained above](#support-for-setting-job-timeout-limits).

As an administrator, you can also set the maximum limit that the users
can set per workflow job. By default this value is **14 days** (1209600
seconds) and it can be customise via the
`kubernetes_jobs_max_user_timeout_limit` [Helm value](https://github.com/reanahub/reana/blob/0.8.1/helm/reana/README.md).

### Supported compute backends

As of REANA 0.8.1, you can set a list of the compute backends that your
REANA instance supports. This is useful to perform validation before
the workflow submission and detect incompatibilities earlier.

This value are can be set via the ``compute_backends`` [Helm value](https://github.com/reanahub/reana/blob/0.8.1/helm/reana/README.md).

### More fine-grained logging configuration

The uWSGI configuration has been changed to log all HTTP requests to
the REANA-Server component by default. In addition, you can also
configure the following [Helm values](https://github.com/reanahub/reana/blob/0.8.1/helm/reana/README.md):

- `reana_server.uwsgi.log_all`: Enables all the logging. It corresponds to the opposite of uWSGI option [`disable-logging`](https://uwsgi-docs.readthedocs.io/en/latest/Options.html#disable-logging).
- `reana_server.uwsgi.log_4xx`: It corresponds to the uWSGI option [`log-4xx`](https://uwsgi-docs.readthedocs.io/en/latest/Options.html#log-4xx).
- `reana_server.uwsgi.log_5xx`: It corresponds to the uWSGI option [`log-5xx`](https://uwsgi-docs.readthedocs.io/en/latest/Options.html#log-5xx).

### New node labels for Database and Message Broker pods

There are new [Helm configuration options](https://github.com/reanahub/reana/blob/0.8.1/helm/reana/README.md)
`node_label_infrastructuremq` and `node_label_infrastructuredb` to have
the possibility to run the Message Broker and the Database pods in
specific nodes. This can be useful to isolate these services in cases
where you want to avoid side effects from high-load cluster components
that might cause performance issues in the node they are hosted in.

### Workflows CPU quota periodic updates

In version 0.8.0, the user quotas feature was introduced, permitting
to keep track of the amount of CPU and Disk usage as well as setting
quota limits.

The CPU and Disk quota usage can be configured to be calculated on
workflow **termination** via the `quota.termination_update_policy`
Helm value, i.e. once a workflow finishes, both the CPU and the Disk
quotas are calculated.

In addition, the Disk quota can also be configured to be calculated
**periodically** via a cron job, being possible to customise the exact
schedule (crontab) with the `quota.disk_update` Helm value.

As of version 0.8.1, on top of the Disk quota, the **CPU** quota is also
calculated in a **periodic** manner.

To reflect this change, the [Helm values]((https://github.com/reanahub/reana/blob/0.8.1/helm/reana/README.md))
have been renamed. The value `quota.disk_update` has been renamed to
`quota.periodic_update_policy` and the value
`quota.termination_update_policy` has been renamed to
`quota.workflow_termination_update_policy`. The old names are preserved
in order to guarantee backward compatibility.

## Further improvements and bug fixes

REANA 0.8.1 release comes with other minor improvements and bug
fixes. Please see the detailed [REANA 0.8.1 release
notes](https://github.com/reanahub/reana/releases/tag/0.8.1).

Enjoy!
